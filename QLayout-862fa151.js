import{c as S,q as c,h as R,s as C,bi as H,bj as K,bk as z,f as O}from"./index-370d2373.js";import{g as Q,i as $,h as a,k as s,N as F,r as g,a as b,w as M,I as N}from"./Logo-4d4ab573.js";import{Q as U}from"./QScrollObserver-d5383202.js";import{Q as L}from"./QResizeObserver-82a723d7.js";const J=S({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(n,{slots:v}){const{proxy:{$q:r}}=Q(),t=$(C,c);if(t===c)return console.error("QPage needs to be a deep child of QLayout"),c;if($(H,c)===c)return console.error("QPage needs to be child of QPageContainer"),c;const i=a(()=>{const u=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof n.styleFn=="function"){const h=t.isContainer.value===!0?t.containerHeight.value:r.screen.height;return n.styleFn(u,h)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-u+"px":r.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":r.screen.height-u+"px"}}),y=a(()=>`q-page${n.padding===!0?" q-layout-padding":""}`);return()=>s("main",{class:y.value,style:i.value},R(v.default))}}),V=S({name:"QPageContainer",setup(n,{slots:v}){const{proxy:{$q:r}}=Q(),t=$(C,c);if(t===c)return console.error("QPageContainer needs to be child of QLayout"),c;F(H,!0);const f=a(()=>{const i={};return t.header.space===!0&&(i.paddingTop=`${t.header.size}px`),t.right.space===!0&&(i[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(i.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(i[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),i});return()=>s("div",{class:"q-page-container",style:f.value},R(v.default))}}),X=S({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:n=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(n.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(n,{slots:v,emit:r}){const{proxy:{$q:t}}=Q(),f=g(null),i=g(t.screen.height),y=g(n.container===!0?0:t.screen.width),u=g({position:0,direction:"down",inflectionPoint:0}),h=g(0),l=g(K.value===!0?0:z()),T=a(()=>"q-layout q-layout--"+(n.container===!0?"containerized":"standard")),W=a(()=>n.container===!1?{minHeight:t.screen.height+"px"}:null),B=a(()=>l.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${l.value}px`}:null),j=a(()=>l.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${l.value}px`,width:`calc(100% + ${l.value}px)`}:null);function k(e){if(n.container===!0||document.qScrollPrevented!==!0){const o={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};u.value=o,n.onScroll!==void 0&&r("scroll",o)}}function E(e){const{height:o,width:d}=e;let m=!1;i.value!==o&&(m=!0,i.value=o,n.onScrollHeight!==void 0&&r("scrollHeight",o),x()),y.value!==d&&(m=!0,y.value=d),m===!0&&n.onResize!==void 0&&r("resize",e)}function I({height:e}){h.value!==e&&(h.value=e,x())}function x(){if(n.container===!0){const e=i.value>h.value?z():0;l.value!==e&&(l.value=e)}}let p=null;const P={instances:{},view:a(()=>n.view),isContainer:a(()=>n.container),rootRef:f,height:i,containerHeight:h,scrollbarWidth:l,totalWidth:a(()=>y.value+l.value),rows:a(()=>{const e=n.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:b({size:0,offset:0,space:!1}),right:b({size:300,offset:0,space:!1}),footer:b({size:0,offset:0,space:!1}),left:b({size:300,offset:0,space:!1}),scroll:u,animate(){p!==null?clearTimeout(p):document.body.classList.add("q-body--layout-animate"),p=setTimeout(()=>{p=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,o,d){P[e][o]=d}};if(F(C,P),z()>0){let d=function(){e=null,o.classList.remove("hide-scrollbar")},m=function(){if(e===null){if(o.scrollHeight>t.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(d,300)},w=function(q){e!==null&&q==="remove"&&(clearTimeout(e),d()),window[`${q}EventListener`]("resize",m)},e=null;const o=document.body;M(()=>n.container!==!0?"add":"remove",w),n.container!==!0&&w("add"),N(()=>{w("remove")})}return()=>{const e=O(v.default,[s(U,{onScroll:k}),s(L,{onResize:E})]),o=s("div",{class:T.value,style:W.value,ref:n.container===!0?void 0:f,tabindex:-1},e);return n.container===!0?s("div",{class:"q-layout-container overflow-hidden",ref:f},[s(L,{onResize:I}),s("div",{class:"absolute-full",style:B.value},[s("div",{class:"scroll",style:j.value},[o])])]):o}}});export{X as Q,J as a,V as b};
//# sourceMappingURL=QLayout-862fa151.js.map
